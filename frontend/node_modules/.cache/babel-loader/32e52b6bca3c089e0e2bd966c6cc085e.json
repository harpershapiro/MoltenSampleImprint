{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\harpe\\\\Documents\\\\molten-sample-imprint\\\\frontend\\\\src\\\\components\\\\submissionList.component.js\";\nimport React, { Component } from 'react';\nimport Submission from './submission.component.js';\nimport axios from 'axios';\nconst BACK_PORT = 4000;\nexport default class SubmissionList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      submissions: [],\n      images: []\n    };\n  }\n\n  componentDidMount() {\n    axios.get(`http://localhost:${BACK_PORT}/molten/submissions`).then(res => {\n      this.setState({\n        submissions: res.data\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  getImageUrls() {\n    this.state.submissions.map(function (currentSub, i) {\n      this.state.images[i] = currentSub.submission_img_url;\n    });\n  }\n\n  submissionList() {\n    return this.state.submissions.map(function (currentSub, i) {\n      return /*#__PURE__*/React.createElement(Submission, {\n        sub: currentSub,\n        key: i,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 20\n        }\n      });\n    });\n  } //refactor to a new js file if this is working\n\n\n  fetchImages() {\n    const imageName = 'daffycolorado.JPG';\n    const url = `http://localhost:4000/fetchImage/${imageName}`;\n    axios.get(url, {\n      responseType: 'blob'\n    }).then(res => {\n      console.log(`ImageData: ${res.data} `); //var file = new File( res.data, \"image\", { type: \"image/jpeg\" } );\n\n      var imageUrl = URL.createObjectURL(res.data);\n      console.log(`about to return image tag at ${imageUrl}`);\n      this.images = imageUrl;\n      return imageUrl;\n    });\n  }\n\n  render() {\n    this.fetchImages();\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }\n    }, \"Active Submissions\"), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table table-striped\",\n      style: {\n        marginTop: 20\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }\n    }, this.submissionList())), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: this.images,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }\n    })));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/harpe/Documents/molten-sample-imprint/frontend/src/components/submissionList.component.js"],"names":["React","Component","Submission","axios","BACK_PORT","SubmissionList","constructor","props","state","submissions","images","componentDidMount","get","then","res","setState","data","catch","error","console","log","getImageUrls","map","currentSub","i","submission_img_url","submissionList","fetchImages","imageName","url","responseType","imageUrl","URL","createObjectURL","render","marginTop"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,UAAP,MAAuB,2BAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,MAAMC,SAAS,GAAG,IAAlB;AAEA,eAAe,MAAMC,cAAN,SAA6BJ,SAA7B,CAAuC;AAClDK,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AAEA,SAAKC,KAAL,GAAa;AAACC,MAAAA,WAAW,EAAE,EAAd;AACCC,MAAAA,MAAM,EAAE;AADT,KAAb;AAGH;;AAEDC,EAAAA,iBAAiB,GAAE;AACfR,IAAAA,KAAK,CAACS,GAAN,CAAW,oBAAmBR,SAAU,qBAAxC,EACKS,IADL,CACUC,GAAG,IAAI;AACT,WAAKC,QAAL,CAAc;AAACN,QAAAA,WAAW,EAAEK,GAAG,CAACE;AAAlB,OAAd;AAEH,KAJL,EAKKC,KALL,CAKW,UAAUC,KAAV,EAAgB;AACnBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,KAPL;AAQH;;AAEDG,EAAAA,YAAY,GAAE;AACV,SAAKb,KAAL,CAAWC,WAAX,CAAuBa,GAAvB,CAA2B,UAASC,UAAT,EAAoBC,CAApB,EAAsB;AAC7C,WAAKhB,KAAL,CAAWE,MAAX,CAAkBc,CAAlB,IAAqBD,UAAU,CAACE,kBAAhC;AACH,KAFD;AAGH;;AAEDC,EAAAA,cAAc,GAAE;AACZ,WAAO,KAAKlB,KAAL,CAAWC,WAAX,CAAuBa,GAAvB,CAA2B,UAASC,UAAT,EAAqBC,CAArB,EAAuB;AACrD,0BAAO,oBAAC,UAAD;AAAY,QAAA,GAAG,EAAED,UAAjB;AAA6B,QAAA,GAAG,EAAEC,CAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACH,KAFM,CAAP;AAGH,GA9BiD,CAgClD;;;AACAG,EAAAA,WAAW,GAAG;AACN,UAAMC,SAAS,GAAG,mBAAlB;AACA,UAAMC,GAAG,GAAI,oCAAmCD,SAAU,EAA1D;AACAzB,IAAAA,KAAK,CAACS,GAAN,CAAUiB,GAAV,EAAe;AAACC,MAAAA,YAAY,EAAE;AAAf,KAAf,EACCjB,IADD,CACMC,GAAG,IAAI;AACTK,MAAAA,OAAO,CAACC,GAAR,CAAa,cAAaN,GAAG,CAACE,IAAK,GAAnC,EADS,CAET;;AACA,UAAIe,QAAQ,GAAGC,GAAG,CAACC,eAAJ,CAAoBnB,GAAG,CAACE,IAAxB,CAAf;AACAG,MAAAA,OAAO,CAACC,GAAR,CAAa,gCAA+BW,QAAS,EAArD;AACA,WAAKrB,MAAL,GAAcqB,QAAd;AACA,aAAOA,QAAP;AACH,KARD;AASH;;AAELG,EAAAA,MAAM,GAAE;AACJ,SAAKP,WAAL;AACA,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADJ,eAEI;AAAO,MAAA,SAAS,EAAC,qBAAjB;AAAuC,MAAA,KAAK,EAAE;AAACQ,QAAAA,SAAS,EAAE;AAAZ,OAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKT,cAAL,EADL,CADJ,CAFJ,eAQI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,GAAG,EAAE,KAAKhB,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CARJ,CADJ;AAcH;;AA/DiD","sourcesContent":["import React, {Component} from 'react';\r\nimport Submission from './submission.component.js'\r\nimport axios from 'axios';\r\nconst BACK_PORT = 4000;\r\n\r\nexport default class SubmissionList extends Component {\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {submissions: [],\r\n                      images: []   \r\n        };\r\n    }\r\n\r\n    componentDidMount(){\r\n        axios.get(`http://localhost:${BACK_PORT}/molten/submissions`)\r\n            .then(res => {\r\n                this.setState({submissions: res.data,\r\n                });\r\n            })\r\n            .catch(function (error){\r\n                console.log(error);\r\n            })\r\n    }\r\n\r\n    getImageUrls(){\r\n        this.state.submissions.map(function(currentSub,i){\r\n            this.state.images[i]=currentSub.submission_img_url;\r\n        })\r\n    }\r\n\r\n    submissionList(){\r\n        return this.state.submissions.map(function(currentSub, i){\r\n            return <Submission sub={currentSub} key={i}/>\r\n        })\r\n    }\r\n\r\n    //refactor to a new js file if this is working\r\n    fetchImages() {\r\n            const imageName = 'daffycolorado.JPG'\r\n            const url = `http://localhost:4000/fetchImage/${imageName}`\r\n            axios.get(url, {responseType: 'blob'})\r\n            .then(res => {\r\n                console.log(`ImageData: ${res.data} `)\r\n                //var file = new File( res.data, \"image\", { type: \"image/jpeg\" } );\r\n                var imageUrl = URL.createObjectURL(res.data);\r\n                console.log(`about to return image tag at ${imageUrl}` )\r\n                this.images = imageUrl;\r\n                return imageUrl;                  \r\n            })\r\n        }\r\n\r\n    render(){\r\n        this.fetchImages();\r\n        return(\r\n            <div>\r\n                <h3>Active Submissions</h3>\r\n                <table className=\"table table-striped\" style={{marginTop: 20}} >\r\n                    <tbody>\r\n                        {this.submissionList()}\r\n                    </tbody>\r\n                </table>\r\n                    \r\n                <div>\r\n                    <img src={this.images} />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}