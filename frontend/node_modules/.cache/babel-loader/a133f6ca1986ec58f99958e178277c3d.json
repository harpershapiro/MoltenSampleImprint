{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\harpe\\\\Documents\\\\molten-sample-imprint\\\\frontend\\\\src\\\\components\\\\submit.component.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nconst BACK_PORT = 4000;\nexport default class Submit extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      didUpload: false,\n      submission_url: '',\n      submission_title: '',\n      submission_user: '',\n      submission_date: '',\n      submission_desc: ''\n    };\n    this.onChangeSubmissionTitle = this.onChangeSubmissionTitle.bind(this);\n    this.onChangeSubmissionDesc = this.onChangeSubmissionDesc.bind(this);\n    this.handleUploadFile = this.handleUploadFile.bind(this);\n  }\n\n  handleUploadFile(ev) {\n    ev.preventDefault();\n    console.log(`Form submitted:`);\n    console.log(`Submission Title: ${this.state.submission_title}`);\n    console.log(`Submission Description: ${this.state.submission_desc}`);\n    const data = new FormData();\n    data.append('file', this.uploadInput.files[0]);\n    data.append('filename', this.state.submission_title);\n    console.log(\"fetching upload path\");\n    fetch(`http://localhost:${BACK_PORT}/upload`, {\n      method: 'POST',\n      body: data\n    }).then(response => {\n      response.json().then(body => {\n        console.log(\"setting state fileURL to\" + `http://localhost:${BACK_PORT}/${body.file}`);\n        this.setState({ ...this.state,\n          didUpload: true,\n          submission_url: `http://localhost:${BACK_PORT}/${body.file}`,\n          submission_user: 'default',\n          submission_date: 'default'\n        });\n      });\n    });\n    this.props.history.push(\"/\");\n  }\n\n  onChangeSubmissionTitle(e) {\n    this.setState({\n      submission_title: e.target.value\n    });\n  }\n\n  onChangeSubmissionDesc(e) {\n    this.setState({\n      submission_desc: e.target.value\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }\n    }, \" Submit \"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleUploadFile,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      ref: ref => {\n        this.uploadInput = ref;\n      },\n      type: \"file\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }\n    }, \"Title\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      value: this.state.submission_title,\n      onChange: this.onChangeSubmissionTitle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 21\n      }\n    }, \"Description\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      value: this.state.submission_desc,\n      onChange: this.onChangeSubmissionDesc,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Submit\",\n      className: \"btn btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 25\n      }\n    }))));\n  } // OLDrender(){\n  //     return (\n  //         <div>\n  //             <h1> Submit </h1>\n  //             <form onSubmit={this.handleUploadFile}>\n  //                 <div>\n  //                     <input ref={(ref) => {this.uploadInput = ref;}} type=\"file\" />\n  //                 </div>\n  //                 <div>\n  //                     <input ref={(ref) => { this.fileName = ref; }} type=\"text\" placeholder=\"Enter the desired name of file\" />\n  //                 </div>\n  //             <br />\n  //             <div>\n  //                 <button>Upload</button>\n  //             </div>\n  //             <div>\n  //                 {this.state.didUpload ? this.state.fileURL : ''}\n  //             </div>\n  //             </form>\n  //         </div>\n  //     );\n  // }\n\n\n}","map":{"version":3,"sources":["C:/Users/harpe/Documents/molten-sample-imprint/frontend/src/components/submit.component.js"],"names":["React","Component","axios","BACK_PORT","Submit","constructor","props","state","didUpload","submission_url","submission_title","submission_user","submission_date","submission_desc","onChangeSubmissionTitle","bind","onChangeSubmissionDesc","handleUploadFile","ev","preventDefault","console","log","data","FormData","append","uploadInput","files","fetch","method","body","then","response","json","file","setState","history","push","e","target","value","render","ref"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport axios from 'axios';\r\nconst BACK_PORT = 4000;\r\n\r\nexport default class Submit extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            didUpload: false,\r\n            submission_url: '',\r\n            submission_title: '',\r\n            submission_user: '',\r\n            submission_date: '',\r\n            submission_desc: '',\r\n        };\r\n\r\n        this.onChangeSubmissionTitle = this.onChangeSubmissionTitle.bind(this);\r\n        this.onChangeSubmissionDesc = this.onChangeSubmissionDesc.bind(this);\r\n        this.handleUploadFile = this.handleUploadFile.bind(this);\r\n    }\r\n\r\n    handleUploadFile(ev) { \r\n        ev.preventDefault();\r\n\r\n        console.log(`Form submitted:`);\r\n        console.log(`Submission Title: ${this.state.submission_title}`);\r\n        console.log(`Submission Description: ${this.state.submission_desc}`);\r\n\r\n        const data = new FormData();\r\n        data.append('file', this.uploadInput.files[0]);\r\n        data.append('filename', this.state.submission_title);\r\n\r\n        console.log(\"fetching upload path\");\r\n        fetch(`http://localhost:${BACK_PORT}/upload`, { \r\n            method: 'POST',\r\n            body: data,\r\n        }).then((response) => {\r\n            response.json().then((body) => {\r\n                console.log(\"setting state fileURL to\" + `http://localhost:${BACK_PORT}/${body.file}`);\r\n                this.setState({ ...this.state,\r\n                                didUpload: true,\r\n                                submission_url: `http://localhost:${BACK_PORT}/${body.file}`,\r\n                                submission_user: 'default',\r\n                                submission_date: 'default'\r\n                            })\r\n            });\r\n        });\r\n        this.props.history.push(\"/\");\r\n\r\n    }\r\n\r\n    onChangeSubmissionTitle(e){\r\n        this.setState({\r\n            submission_title: e.target.value\r\n        });\r\n    }\r\n\r\n    onChangeSubmissionDesc(e){\r\n        this.setState({\r\n            submission_desc: e.target.value\r\n        });\r\n    }\r\n\r\n\r\n    render(){\r\n        return (\r\n            <div>\r\n                <h1> Submit </h1>\r\n                <form onSubmit={this.handleUploadFile}>\r\n                    <div>\r\n                        <input ref={(ref) => {this.uploadInput = ref;}} type=\"file\" />\r\n                    </div>\r\n\r\n                    <label>Title</label>\r\n                    <div className=\"form-group\">\r\n                        <input type=\"text\" \r\n                                className=\"form-control\"\r\n                                value={this.state.submission_title}\r\n                                onChange={this.onChangeSubmissionTitle}></input>\r\n                    </div>\r\n\r\n                    <label>Description</label>\r\n                    <div className=\"form-group\">\r\n                        <input type=\"text\" \r\n                                className=\"form-control\"\r\n                                value={this.state.submission_desc}\r\n                                onChange={this.onChangeSubmissionDesc}></input>\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <input type=\"submit\" value=\"Submit\" className=\"btn btn-primary\"></input>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    \r\n    // OLDrender(){\r\n    //     return (\r\n    //         <div>\r\n    //             <h1> Submit </h1>\r\n    //             <form onSubmit={this.handleUploadFile}>\r\n    //                 <div>\r\n    //                     <input ref={(ref) => {this.uploadInput = ref;}} type=\"file\" />\r\n    //                 </div>\r\n    //                 <div>\r\n    //                     <input ref={(ref) => { this.fileName = ref; }} type=\"text\" placeholder=\"Enter the desired name of file\" />\r\n    //                 </div>\r\n    //             <br />\r\n    //             <div>\r\n    //                 <button>Upload</button>\r\n    //             </div>\r\n    //             <div>\r\n    //                 {this.state.didUpload ? this.state.fileURL : ''}\r\n    //             </div>\r\n    //             </form>\r\n    //         </div>\r\n    //     );\r\n    // }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}